<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Complex Data Explorer (CODEX): codex_1d_binning Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Complex Data Explorer (CODEX)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">codex_1d_binning Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4b4567e0bf21b8fe3e49dd1d3a5de193"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecodex__1d__binning.html#a4b4567e0bf21b8fe3e49dd1d3a5de193">is_iterable</a> (elements)</td></tr>
<tr class="separator:a4b4567e0bf21b8fe3e49dd1d3a5de193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b7f0747101ebbac04dbf1c5a423d7d8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecodex__1d__binning.html#a3b7f0747101ebbac04dbf1c5a423d7d8">monotonic</a> (bins, monotonicType)</td></tr>
<tr class="separator:a3b7f0747101ebbac04dbf1c5a423d7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a590b650b652175540c85d1c39e22ac25"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecodex__1d__binning.html#a590b650b652175540c85d1c39e22ac25">codex_binned_stat</a> (inputHash, subsetHash=False, bins=50, y=None, limits=None, func=None, ignore_outliers=False)</td></tr>
<tr class="separator:a590b650b652175540c85d1c39e22ac25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0aac43e55032307808a19d2cc7605233"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecodex__1d__binning.html#a0aac43e55032307808a19d2cc7605233">CODEX_ROOT</a> = os.getenv('CODEX_ROOT')</td></tr>
<tr class="memdesc:a0aac43e55032307808a19d2cc7605233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enviornment variable for setting CODEX root directory.  <a href="#a0aac43e55032307808a19d2cc7605233">More...</a><br /></td></tr>
<tr class="separator:a0aac43e55032307808a19d2cc7605233"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Author: Jack Lightholder
Date  : 6/20/17

Brief : 1d binning algorithms, formatted for CODEX ingestion

Notes : 
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a590b650b652175540c85d1c39e22ac25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a590b650b652175540c85d1c39e22ac25">&#9670;&nbsp;</a></span>codex_binned_stat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def codex_1d_binning.codex_binned_stat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inputHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subsetHash</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bins</em> = <code>50</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>limits</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore_outliers</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Detail:     Binning statistics including histogram (counting) and functions of data bins.
                Major customization is bins are specified by CENTER, not by edges. #bins = specified bin values.
Inputs:
    x     : One dimensional iterable containing values to bin. Nans, infs, and other special values will be ignored.
    bins  : number of bins to use (integer) or the bin centers to use directly (iterable). If not monotonically increasing, will fail.
    y     : The weights to apply (for histogramming) or the input values to be reduced by func into bins grouped by x.
    limits: The maximum extent to include in the binning. None will automatically include the full range of x. Ignored if bins specified.
    func  : The function to use to reduce the y's grouped into bins.
            'count' (default if y not given) just counts how many x's are in the bins and returns the histogram (y is ignored)
            'sum'   sums up the y's. Can be used to perform a weighted histogram.
            'mean'  (default if y given    ) takes the mean of the binned y's

    ignore_outliers: Points beyond specified "limits" variable will be ignored and not plotted. Automatic if func is not 'count'.
                     If set to False and func is None or 'count', will add up outliers beyond limits and add to extreme bin values.

Outputs:
    bins, values: The bin centers used, and the values (counts) within each bin

Examples:

    # First try without valid inputHash
    &gt;&gt;&gt; codex_binned_stat(None, bins = range(10))
    Hash not found. Returning!
    
    &gt;&gt;&gt; featureList = ['L2/RetrievalResults/xco2']
    &gt;&gt;&gt; hashList = codex_read_data_api.codex_read_hd5(CODEX_ROOT + 'data/OCO-2/lnd_glint_subsample_10000.h5',featureList)

    &gt;&gt;&gt; inputHash = hashList[0]
    &gt;&gt;&gt; results = codex_binned_stat(inputHash)
    
    #print(results)

    #Simple histogram case, notice integers are aligned perfectly with bin centers
    &gt;&gt;&gt; inputArray = range(0,10)
    &gt;&gt;&gt; inputHashDictionary = codex_hash.hashArray("example 1", inputArray, "feature")
    &gt;&gt;&gt; inputHash = inputHashDictionary['hash']
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = range(10))

    #print(results)

    #Note that providing bins = 10 causes a slight shift in the array, as the bin centers treat max/min(limits) as edges of right(left) most bins
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = 10)
    
    #print(results)

    #Supplying y defaults to taking the mean of y's binned by x
    &gt;&gt;&gt; inputArray = range(10)
    &gt;&gt;&gt; inputHashDictionary = codex_hash.hashArray("example 1", inputArray, "feature")
    &gt;&gt;&gt; inputHash = inputHashDictionary['hash']
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = 4, y = range(10,20))

    #print(results)

    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = 4, y = range(10,20), func = 'mean')

    #print(results)

    #Instead specify "sum" to treat the y's as weights to a histogram
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = 4, y = range(10,20), func = 'sum')

    #print(results)

    #Or "median" by text ref, which uses an unknown median function that is neither scipy nor Numpy
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = 4, y = range(10,20), func = 'median')

    #print(results)
    
    #or by function ref, which produces different results because now you know which median function is being used
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = 4, y = range(10,20), func = N.median)

    #print(results)
    
    #Limits narrow the range, and since we're performing a plain histogram, the outliers are stacked on the wings
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = 4, limits = [4,6])

    #print(results)
    
    #Unless we tell it not to
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = 4, limits = [4,6], ignore_outliers = True)

    #print(results)
    
    #Specify specific bins to use, beyond range of data. Zeros filled where no data present in histogram case.
    &gt;&gt;&gt; inputArray = range(10,20)
    &gt;&gt;&gt; inputHashDictionary = codex_hash.hashArray("example 1", inputArray, "feature")
    &gt;&gt;&gt; inputHash = inputHashDictionary['hash']
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = range(0,30,3))

    #print(results)
    
    #But in function case, can't know what function value exists in empty bins
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, y = range(10,20), bins = range(0,30,3), func = 'mean')

    #print(results)

    #Limits ignored if bins specified
    &gt;&gt;&gt; results = codex_binned_stat(inputHash, y = range(10,20), bins = range(0,30,3), limits = [0,15], func = 'mean')

    #print(results)

    &gt;&gt;&gt; results = codex_binned_stat(inputHash, bins = [0,1,2,3,4,5])

    #print(results)  </pre> 
</div>
</div>
<a id="a4b4567e0bf21b8fe3e49dd1d3a5de193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b4567e0bf21b8fe3e49dd1d3a5de193">&#9670;&nbsp;</a></span>is_iterable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def codex_1d_binning.is_iterable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>elements</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Inuputs:

Outputs:

Examples:</pre> 
</div>
</div>
<a id="a3b7f0747101ebbac04dbf1c5a423d7d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b7f0747101ebbac04dbf1c5a423d7d8">&#9670;&nbsp;</a></span>monotonic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def codex_1d_binning.monotonic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bins</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>monotonicType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Inuputs:

Outputs:

Examples:</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a0aac43e55032307808a19d2cc7605233"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aac43e55032307808a19d2cc7605233">&#9670;&nbsp;</a></span>CODEX_ROOT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">codex_1d_binning.CODEX_ROOT = os.getenv('CODEX_ROOT')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enviornment variable for setting CODEX root directory. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
